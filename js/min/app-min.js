"use strict";var Dictionary={typology:["high_end","low-brow","conservative","revolutionary","millennial"],brand:["toilet_paper","car","sports_apparel","technology","dog_food","candy"],constraint:["with_only_sound","with_six_words","with_a_haiku","strictly_location-based"]},Interface={wrapper:document.getElementById("wrapper"),trigger:document.querySelector("[osd-trigger]"),output:document.querySelector("[osd-output]"),timer:document.querySelector("[osd-timer]"),circle:document.getElementById("circle"),button:document.querySelector(".button")},Round={initialTime:120,currentTime:120,concept:[],prevConcept:[],getWord:function(e){return e[(Math.floor(Math.random()*(e.length-0))+0).toFixed(0)]},genConcept:function(){this.concept=[this.getWord(Dictionary.typology),this.getWord(Dictionary.brand),this.getWord(Dictionary.constraint)]},checkForRepeatWord:function(){for(var e=0;e<this.concept.length;e++)for(var t=0;t<this.prevConcept.length;t++)if(this.concept[e]===this.prevConcept[t])return!0},renderConcept:function(){var e="Make_a_6_second_video_for_a_"+this.concept[0]+"_"+this.concept[1]+"_brand,_"+this.concept[2]+".";Interface.output.innerHTML="";for(var t=0;t<e.length;t++){var r=document.createElement("span"),n=document.createTextNode(e[t]);"_"===e[t]?Interface.output.innerHTML+="&#32":(r.appendChild(n),Interface.output.appendChild(r))}},renderAtmos:function(){Interface.wrapper.classList.remove("lights-on"),Interface.circle.classList.remove("counting"),console.log(Interface.circle.offsetWidth),Interface.circle.classList.add("counting"),Interface.button.innerHTML="Another One"},resetAtmos:function(){Interface.wrapper.classList.add("lights-on"),Interface.circle.classList.remove("counting"),Interface.button.innerHTML="New Round"},renderImage:function(e){$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",{tags:e,tagmode:"any",format:"json"},function(e){var t=Math.floor(Math.random()*e.items.length);console.log(e);var r=e.items[t].media.m.replace("_m","_b");$("#wrapper").css("background-image","url('"+r+"')")})},startTimer:function(){var e=this;e.currentTime=e.initialTime,e.newTimer=setInterval(function(){e.currentTime--,e.renderTimer(),e.currentTime<11?Interface.timer.style.color="#F11E54":Interface.timer.style.color="#5A6987",0===e.currentTime&&(Interface.timer.style.color="#5A6987",clearInterval(e.newTimer),Round.storePrevConcept(),Round.resetAtmos())},1e3)},renderTimer:function(){Interface.timer.innerHTML=this.currentTime},resetTimer:function(){clearInterval(this.newTimer),this.currentTime=this.initialTime},init:function(){this.resetTimer(),this.renderTimer(),this.genConcept(),this.renderConcept(),this.renderAtmos(),this.startTimer()},storePrevConcept:function(){this.prevConcept=this.concept}};Interface.trigger.addEventListener("click",function(){Round.storePrevConcept(),Round.init()});