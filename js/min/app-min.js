"use strict";var Dictionary={objects:["AI","Advertising","Analytics","Art","Audio","Banking","Bots","Climates","Collaboration","Commerce","Communication","Communities","Crowdfunding","Currency","Data","Dating","Delivery","Decision-Making","Design","Dining","Discovery","Drones","E-commerce","Economies","Education","Energy","Entertainment","Environments","Evangelization","Events","Farming","Fashion","Fitness","Forecasting","Gaming","Gender","Governance","Housing","Healthcare","Investing","Journalism","Labor","Learning","Leisure","Living","Manufacturing","Mapping","Medicine","Memory","Messaging","Music","Neighborhoods","Networking","News","Notifications","Nutrition","Optimization","Payments","Personalization","Photostreaming","Privacy","Productivity","Publishing","Recommendations","Relationships","Search","Security","Sharing","Shopping","Sports","Storytelling","Storage","Streaming","Transportation","Travel","Video","VR","Wearables","Workspaces"],descriptors:["Adaptive","Adult","Agile","Affordable","Ambient","Anonymous","Automated","Bio","Branded","Collective","Connected","Contextual","Conversational","Continuous","Curated","Custom","Crowdsourced","Dynamic","Embeddable","Encrypted","Enterprise","Ephemeral","Exclusive","Fantasy","Free","Gamified","Genetic","Global","Guerilla","Grassroots","Humanized","Haptic","Hyperlocal","Incremental","Instantaneous","Interactive","Interstitial","Localized","Macro","Meta","Micro","Minimal","Mobile","Narrated","On-demand","Open-Source","P2P","Predictive","Premium","Progressive","Rapid","Real-time","Self-perpetuating","Semantic","Serendipitous","Shoppable","Social","Stealth","Sustainable","Synthetic","Targeted","Ubiquitous","Utilitarian","Virtual"]},Interface={wrapper:document.getElementById("wrapper"),trigger:document.querySelector("[osd-trigger]"),output:document.querySelector("[osd-output]"),timer:document.querySelector("[osd-timer]"),circle:document.getElementById("circle"),button:document.querySelector(".button")},Round={initialTime:120,currentTime:120,concept:[],prevConcept:[],getWord:function(e){return e[(Math.floor(Math.random()*(e.length-0))+0).toFixed(0)]},genConcept:function(){this.concept=[this.getWord(Dictionary.descriptors),this.getWord(Dictionary.descriptors),this.getWord(Dictionary.objects)],this.concept[0]===this.concept[1]&&(this.concept[0]=this.getWord(Dictionary.descriptors)),this.checkForRepeatWord()===!0&&this.genConcept()},checkForRepeatWord:function(){for(var e=0;e<this.concept.length;e++)for(var t=0;t<this.prevConcept.length;t++)if(this.concept[e]===this.prevConcept[t])return!0},renderConcept:function(){var e=this.concept[0]+"_"+this.concept[1]+"_"+this.concept[2];Interface.output.innerHTML="";for(var t=0;t<e.length;t++){var n=document.createElement("span"),i=document.createTextNode(e[t]);"_"===e[t]?Interface.output.innerHTML+="&#32":(n.appendChild(i),Interface.output.appendChild(n))}},renderAtmos:function(){Interface.wrapper.classList.remove("lights-on"),Interface.circle.classList.remove("counting"),console.log(Interface.circle.offsetWidth),Interface.circle.classList.add("counting"),Interface.button.innerHTML="Another One"},resetAtmos:function(){Interface.wrapper.classList.add("lights-on"),Interface.circle.classList.remove("counting"),Interface.button.innerHTML="New Round"},renderImage:function(e){$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",{tags:e,tagmode:"any",format:"json"},function(e){var t=Math.floor(Math.random()*e.items.length);console.log(e);var n=e.items[t].media.m.replace("_m","_b");$("#wrapper").css("background-image","url('"+n+"')")})},startTimer:function(){var e=this;e.currentTime=e.initialTime,e.newTimer=setInterval(function(){e.currentTime--,e.renderTimer(),e.currentTime<11?Interface.timer.style.color="#F11E54":Interface.timer.style.color="#5A6987",0===e.currentTime&&(Interface.timer.style.color="#5A6987",clearInterval(e.newTimer),Round.storePrevConcept(),Round.resetAtmos())},1e3)},renderTimer:function(){Interface.timer.innerHTML=this.currentTime},resetTimer:function(){clearInterval(this.newTimer),this.currentTime=this.initialTime},init:function(){this.resetTimer(),this.renderTimer(),this.genConcept(),this.renderConcept(),this.renderAtmos(),this.startTimer()},storePrevConcept:function(){this.prevConcept=this.concept}};Interface.trigger.addEventListener("click",function(){Round.storePrevConcept(),Round.init()});